<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>manuelmsni</title>

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/styles.css">


</head>

<body>

    <script>
        function copyToClipboard(content) {
    var textarea = document.createElement("textarea");
    textarea.style.height = 0;
    document.body.appendChild(textarea);
    textarea.value = content;
    textarea.select();
    document.execCommand("copy");
    document.body.removeChild(textarea);
}
function copia(texto) {
    copyToClipboard(texto);
}
var texto = `
/*
---------------------------------------------
Comando crear docker de MariaDB
---------------------------------------------

docker run --name containerMariaDB -v volumenMariaDB:/var/lib/mysql -e MARIADB_ROOT_PASSWORD=secret -d -p 27007:3306 mariadb:latest

---------------------------------------------
pom.xml
---------------------------------------------

<dependencies>
    <dependency>
        <groupId>org.hibernate.orm</groupId>
        <artifactId>hibernate-core</artifactId>
        <version>6.4.2.Final</version>
    </dependency>
    <dependency>
        <groupId>org.mariadb.jdbc</groupId>
        <artifactId>mariadb-java-client</artifactId>
        <version>3.3.2</version>
    </dependency>
<dependencies>

---------------------------------------------
Añadir librerías JPA 3.0 (Si no están en ese net Beans)
---------------------------------------------

Proyecto -> Dependencies -> jakarta.persistence-api-3.1.0.jar -> [Clic derecho] Copy location
Proyecto -> New -> Persistence unit -> Persistence Library -> Manage Libraries -> EclipseLink (JPA 2.2) -> 
    Add JAR / Folder -> 
        [Clic derecho en la barra de abajo, pegar localización] -> jakarta.persistence-api-3.1.0.jar -> Move Up
    Add JAR / Folder -> 
        [../ ../ ../ transaction / jakarta.transaction-api / 2.0.1] -> jakarta.transaction-api-2.0.1.jar -> Move Up
    Add JAR / Folder -> 
        [../ ../ ../ xml / bind / jakarta.xml.bind-api / 4.0.0] -> jakarta.xml.bind-api-4.0.0.jar -> Move Up

---------------------------------------------
persistence.xml
---------------------------------------------

<provider>org.hibernate.jpa.HibernatePersistenceProvider</provider>

    <property name="hibernate.show_sql" value="true" />
    <property name="hibernate.hb2ddl.auto" value="update" />
    <property name="hibernate.dialect" value="org.hibernate.dialect.MariaDBDialect"/>


---------------------------------------------
OneToOne
---------------------------------------------

@Table(name = "personaje")
public class Personaje implements Serializable {
    @OneToOne
    @JoinColumn(name = "id_arma", referencedColumnName = "id")
    private Arma arma;

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

@Table(name = "arma")
public class Arma implements Serializable {
    @OneToOne(mappedBy = "arma")
    Personaje personaje;

---------------------------------------------
OneToMany / ManyToOne
---------------------------------------------

@Table(name = "personaje")
public class Personaje implements Serializable {
    @ManyToOne
    @JoinColumn(name = "id_arma", referencedColumnName = "id")
    private Arma arma;

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

@Table(name = "arma")
public class Arma implements Serializable {
   @OneToMany(mappedBy = "arma",cascade = {CascadeType.MERGE,CascadeType.PERSIST})
    List<Personaje> personajes;

---------------------------------------------
ManyToMany
---------------------------------------------

@Table(name = "enemigo")
public class Enemigo implements Serializable {
    @ManyToMany(mappedBy = "enemigos", cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH, CascadeType.REFRESH}, fetch = FetchType.EAGER)
    List<Arma> armas;

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

@Table(name = "arma")
public class Arma implements Serializable {
    @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH, CascadeType.REFRESH}, fetch = FetchType.EAGER)
    @JoinTable(
        name= "enemigo_arma",
        joinColumns = @JoinColumn(name = "id_arma", referencedColumnName = "id"),
        inverseJoinColumns = @JoinColumn(name = "id_enemigo", referencedColumnName = "id")
    )
    List<Enemigo> enemigos;

---------------------------------------------
Vista
---------------------------------------------
*/

import java.io.Closeable;
import java.io.IOException;
import java.util.Scanner;

public class Vista implements Closeable {

    public static final String[] OPCIONES = {
            "Listar ",
            "Listar ",
            "Crear ",
            "Crear ",
            "Añadir a ",
            "Eliminar ",
            "Eliminar "
    };
    
    public static final String OPCION_SALIR = "salir";
 
    private void router(int opcion){
        switch (opcion){
            case 1:
                
                break;
            case 2:
              
                break;
            case 3:
               
                
                break;
            case 4:
                
                
                break;
            case 5:
                /*
                Book b = MainController.getLibro(solicitaInt("Introduce el id del libro: "));
                imprime("Has seleccionado el libro: " + b.toString());
                Person p = MainController.getPerson(solicitaInt("Introduce el id del autor: "));
                imprime("Has seleccionado el autor: " + p.toString());
                b.addPerson(p);
                p.addBook(b);
                imprime("El libro modificado en memoria es: " + b.toString());
                MainController.editBook(b);
                */
                break;
            case 6:
               
                break;
            case 7:
               
                break;
        }
    }

    private Scanner scanner;
    public Vista(){
        scanner = new Scanner(System.in);
    }

    public void imprime(String mensaje){
        System.out.println(mensaje);
    }

    public String solicitaString(String mensaje){
        imprime(mensaje);
        String solicitado;
        boolean valido;
        do{
            solicitado = scanner.nextLine();
            if(solicitado == null) valido = false;
            else if(solicitado.equals(OPCION_SALIR)) return null;
            else valido = !solicitado.isBlank();
            if(!valido) System.out.println("No se ha introducido ningún valor.");
        } while (!valido);
        return solicitado;
    }

    public Integer solicitaInt(String mensaje){
        String solicitado;
        boolean valido = false;
        do{
            solicitado = solicitaString(mensaje);
            if(solicitado == null) return null;
            try{
                Integer.parseInt(solicitado);
                valido = true;
            }catch (NumberFormatException e){
                System.out.println("El valor introducido no es un número entero.");
            }
        } while (!valido);
        return Integer.valueOf(solicitado);
    }

    public Double solicitaDouble(String mensaje){
        String solicitado;
        boolean valido = false;
        do{
            solicitado = solicitaString(mensaje);
            if(solicitado == null) return null;
            try{
                Double.parseDouble(solicitado);
                valido = true;
            }catch (NumberFormatException e){
                System.out.println("El valor introducido no es un número.");
            }
        } while (!valido);
        return Double.valueOf(solicitado);
    }

    public Integer solicitaIntEnIntervaloCerrado(String mensaje, int min, int max){
        Integer solicitado;
        boolean valido = false;
        do{
            solicitado = solicitaInt(mensaje);
            if(solicitado == null) return null;
            valido = solicitado >= min && solicitado <= max;
            if(!valido) System.out.println("El número introducido no está en el rango permitido.");
        } while (!valido);
        return solicitado;
    }

    public Double solicitaDoubleEnIntervaloCerrado(String mensaje, double min, double max){
        Double solicitado;
        boolean valido = false;
        do{
            solicitado = solicitaDouble(mensaje);
            if(solicitado == null) return null;
            valido = solicitado >= min && solicitado <= max;
            if(!valido) System.out.println("El número introducido no está en el rango permitido.");
        } while (!valido);
        return solicitado;
    }

    public Integer menu(){
        imprime("Elige una opción:");
        for (int i = 0; i < OPCIONES.length; i++) {
            System.out.println((i+1) + ".- " + OPCIONES[i]);
        }
        imprime("[Introduce \"" + OPCION_SALIR + "\" para salir]");
        return solicitaIntEnIntervaloCerrado("Introduce un número entre 1 y " + OPCIONES.length + " (incluidos).", 1, OPCIONES.length);
    }

    public void bucleDePrograma(){
        try{
            boolean salir = false;
            Integer opcion;
            do{
                opcion = menu();
                if(opcion == null) salir = true;
                else router(opcion);
            } while(!salir);
            imprime("Hasta luego.");
            try {
                close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        } catch (NullPointerException e){
            e.printStackTrace();
        }
    }

    @Override
    public void close() throws IOException {
        scanner.close();
    }
}
`;

var clase = `
import com.mycompany.jpa_mmartin.modelo.Noticia;
import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityManagerFactory;
import jakarta.persistence.EntityTransaction;
import jakarta.persistence.NoResultException;
import jakarta.persistence.Persistence;
import jakarta.persistence.TypedQuery;
import java.util.ArrayList;
import java.util.List;
/*
@NamedQueries({
@NamedQuery(
    name = "Noticia.getAll",
    query = "select n from Noticia n"
)
@NamedQuery(
    name = "Noticia.buscarPorTextoEnComentarios",
    query = "SELECT n FROM Noticia n JOIN n.comentarios c WHERE c.comentario LIKE :texto"
)
@NamedQuery(
    name = "Noticia.buscarPorContenido",
    query = "select n from Noticia n where n.contenido like :contenido"
)
})
*/
/**
 *
 * @author Vespertino
 */
public class NoticiaPersistence {
    private EntityManagerFactory emf;
    private static NoticiaPersistence instance;
    public static NoticiaPersistence getinstance(){
        if(instance == null) instance = new NoticiaPersistence();
        return instance;
    }
    public NoticiaPersistence(){
        emf = Persistence.createEntityManagerFactory("jpa_MMartin");
    }
    public List<Noticia> getAll(){
        List<Noticia> noticias = new ArrayList<>();
        try(EntityManager em = emf.createEntityManager()){
            var q = em.createNamedQuery("Noticia.getAll", Noticia.class);
            noticias = q.getResultList();
        }
        return noticias;
    }
    
    public Noticia getOneById(int idNoticia){
        String query = "select p from Noticia p where p.idNoticia = :idNoticia";
        try(EntityManager em = emf.createEntityManager()){
            var q = em.createQuery(query, Noticia.class);
            q.setParameter("idNoticia", (long) idNoticia);
            return q.getSingleResult();
        } catch (NoResultException e) {
            System.out.println("No hay resultados");
            return null;
        }
    }
    
    public boolean insert(Noticia n){
        EntityTransaction t = null;
        try(EntityManager em = emf.createEntityManager()){
            t = em.getTransaction();
            t.begin();
            em.persist(n);
            t.commit();
            return true;
        }catch(Exception e){
            if(t!=null && t.isActive()) t.rollback();
            e.printStackTrace();
        }
        return false;
    }
    
    public boolean delete(Long idNoticia) {
        EntityTransaction t = null;
        try (EntityManager em = emf.createEntityManager()) {
            t = em.getTransaction();
            t.begin();
            Noticia n = em.find(Noticia.class, idNoticia);
            if (n != null) {
                em.remove(n);
                t.commit();
                return true;
            } else {
                t.rollback();
                return false;
            }
        } catch (Exception e) {
            if (t != null && t.isActive()) {
                t.rollback();
            }
            e.printStackTrace();
            return false;
        }
    }
    
    public boolean update(Noticia n){
        EntityTransaction t = null;
        try(EntityManager em = emf.createEntityManager()){
            t = em.getTransaction();
            t.begin();
            em.merge(n);
            t.commit();
            return true;
        }catch(Exception e){
            if(t!=null && t.isActive()) t.rollback();
            e.printStackTrace();
        }
        return false;
    }
    
    public List<Noticia> buscarNoticiasPorTextoComentario(String texto) {
        EntityManager em = null;
        try{
            em = emf.createEntityManager();
            TypedQuery<Noticia> query = em.createNamedQuery("Noticia.buscarPorTextoEnComentarios", Noticia.class);
            query.setParameter("texto", "%" + texto + "%");
            List<Noticia> resultados = query.getResultList();
            return resultados;
        } finally {
            if (em != null) {
                em.close();
            }
            if (emf != null) {
                emf.close();
            }
        }
    }
    
    public List<Noticia> buscarNoticiasPorContenido(String textoContenido) {
        EntityManager em = null;
        List<Noticia> noticias = new ArrayList<>();
        try {
            em = emf.createEntityManager();
            TypedQuery<Noticia> query = em.createNamedQuery("Noticia.buscarPorContenido", Noticia.class);
            query.setParameter("contenido", "%" + textoContenido + "%");
            noticias = query.getResultList();
        } finally {
            if (em != null) {
                em.close();
            }
        }
        return noticias;
    }

}

`;
var mongo = `
import com.mongodb.ConnectionString;
import com.mongodb.MongoClientSettings;
import com.mongodb.client.MongoClient;
import com.mongodb.client.MongoClients;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import com.mongodb.client.model.Aggregates;
import com.mongodb.client.model.Filters;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.regex.Pattern;
import org.bson.codecs.configuration.CodecRegistries;
import org.bson.codecs.configuration.CodecRegistry;
import org.bson.codecs.pojo.PojoCodecProvider;
import org.bson.types.ObjectId;

public class MongoPojoManager {
    
    private static final String HOST = "localhost";
    private static final String PORT = "57017";
    private static final  String DB_URI = "mongodb://" + HOST + ":" + PORT;
    
    private static MongoPojoManager instance;
    
    private CodecRegistry codec;
    private MongoClient client;
    
    private MongoPojoManager(){
        ConnectionString connectionString = new ConnectionString(DB_URI);
        client = MongoClients.create(connectionString);
        PojoCodecProvider pojoCodecProvider = PojoCodecProvider.builder().automatic(true).build();
        codec = CodecRegistries.fromRegistries(
            MongoClientSettings.getDefaultCodecRegistry(), 
            CodecRegistries.fromProviders(pojoCodecProvider)
        );
    }
    
    public static MongoPojoManager getInstance(){
        if(instance == null) instance = new MongoPojoManager();
        return instance;
    }

    private MongoDatabase getDatabase(String dbname){
        return client.getDatabase(dbname).withCodecRegistry(codec);
    }
    
    private static <T> MongoCollection<T> getCollection(String database, String name, Class<T> type){
        return getInstance().getDatabase(database).getCollection(name, type);
    }
    
    // Métodos crud para tipos genéricos
    
    public static <T> List<T> getAll(MongoCollection<T> collection){
        List<T> list = new ArrayList<>();
        collection.find().into(list);
        return list;
    }
    
    public static <T> void insert(MongoCollection<T> collection, T obj) {
        collection.insertOne(obj);
    }
    
    public static <T> void insertMany(MongoCollection<T> collection, List<T> objects) {
        collection.insertMany(objects);
    }

    public static <T> void delete(MongoCollection<T> collection, ObjectId idToDelete) {
       collection.deleteOne(Filters.eq("_id", idToDelete));
    }
    
    public static <T> void update(MongoCollection<T> collection, ObjectId idToUpdate, T objToUpdate) {
       collection.replaceOne(Filters.eq("_id", idToUpdate), objToUpdate);
    }

    public static <T> T get(MongoCollection<T> collection, ObjectId idToFind) {
        return collection.find(Filters.eq("_id", idToFind)).first();
    }
    
    public static <T> List<T> findByTwoFields(MongoCollection<T> collection, String field1, Object value1, String field2, Object value2, Class<T> type) {
        return collection.find(
            Filters.and(
                Filters.eq(field1, value1), 
                Filters.eq(field2, value2)
            ), 
            type
        ).into(new ArrayList<>());
    }
    
    public static <T> List<T> findByWordInField(MongoCollection<T> collection, String fieldName, String phrase) {
        List<T> result = new ArrayList<>();
        collection.find(
            Filters.regex(fieldName, Pattern.quote(phrase), "i")
        ).into(result);
        return result;
    }
    
    // Métodos crud para clases anidadas para tipos genéricos
    
    public static <T> List<T> getAllNested(MongoCollection<T> collection, String fieldName, Class<T> type){
        return collection.aggregate(
            Arrays.asList(
                Aggregates.unwind("$" + fieldName),
                Aggregates.replaceRoot("$" + fieldName)
                ),
                type
        ).into(new ArrayList<>());
    }
    
    public static <T> List<T> getParentsOf(MongoCollection<T> collection, String field, ObjectId idToFind){
        return collection.find(Filters.eq(field + "._id", idToFind)).into(new ArrayList<>());
    }
    
    public static <T> T findNestedById(MongoCollection<T> collection, String fieldName, ObjectId idToFind, Class<T> type) {
        return collection.aggregate(
            Arrays.asList(
                Aggregates.unwind("$" + fieldName),
                Aggregates.match(Filters.eq(fieldName + "._id", idToFind)),
                Aggregates.replaceRoot("$" + fieldName)
            ), 
            type
        ).first();
    }
    
    /*
        rootList.addListSelectionListener(e -> {
            Padre selectedRoot = rootList.getSelectedValue();
            if (selectedRoot != null) {
                nestedModel.clear();
                selectedRoot.getHijos().forEach(nestedModel::addElement);
            }
        });
    */
    
}
`;
    </script>

    <section id="Header"></section>

    <div id="outerClickAux" class="no" onclick="outerClick()"></div>

    <section id="Content">
        <div class="margins">
            <!--
            <a href="assets/mainLectura.tmpl">*</a>
            <a href="assets/mainLecturaObj.tmpl">*</a>
            -->
            <div id="DateContainer"></div>
            <hr />
            <div id="ScheduleContainer"></div>

            <br />
            <p onclick="copia(mongo)"> Documentación MongoDB</p>
            <br>
            <a href="https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-sync/4.11.1">Dependencias pom.xml</a>
            <br>
            <a href="https://www.mongodb.com/docs/drivers/java/sync/current/usage-examples/findOne/">findOne</a>
            <hr>

    <!--
            <br />
            <p onclick="copia(clase)"> Documentación </p>
            <hr>
            <a href="https://docs.jboss.org/hibernate/orm/6.4/userguide/html_single/Hibernate_User_Guide.html">Documentación hibernate</a>
            <hr>
            <a href="https://docs.oracle.com/javaee/6/tutorial/doc/bnbqa.html#bnbqb">Documentación jpa</a>
            <p onclick="copia(texto)"> Dependencias </p>
            <hr>
            <a href="https://drive.google.com/file/d/1aRtHnrLzg1-fXG7BZNpXZ2CGw2lPpWfl/view?usp=sharing">HeidiSQL Portable</a>
            <hr>
            <a href="https://drive.google.com/file/d/1ZcfvvY7_VuLZlJTN83nkkcl7HoLkMIAA/view?usp=sharing">Docker desktop installer</a>
            <hr>
            <a href="https://mvnrepository.com/artifact/org.hibernate/hibernate-core/6.4.2.Final">Dependencias hibernate</a>
            <hr>
            <a href="https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client/3.3.2">Dependencias MariaDB</a>
            <br>
-->
<!--
            <h1>Módulos</h1>
            <hr />
            <ul>
                <li>
                    <a href="modulos/bases_de_datos/index.html">Bases de datos</a>
                </li>
                <li>
                    <a href="modulos/programacion/index.html">Programación</a>
                </li>
                <li>
                    <a href="modulos/entornos_de_desarrollo/index.html">Entornos de desarrollo</a>
                </li>
                <li>
                    <a href="modulos/markup_languajes/index.html">Lenguaje de marcas</a>
                </li>
                <li>
                    <a href="modulos/sistemas_informaticos/index.html">Sistemas Informáticos</a>
                </li>
            </ul>
-->
        </div>
    </section>

    <section id="Footer">

    </section>
    <a href="https://docs.google.com/document/d/11yWlBmIzaLqLSZQETekHNtwXhMW7KwteCWH9HH6xPCc/edit?usp=sharing">a</a>

    <script src="https://manuelmartinsantamaria.com/assets/vendor/jquery/jquery.min.js"></script>

    <script src="assets/js/main.js"></script>

    <script>

        function callBits() {
            loadHTML('Header', 'assets/bits/header.html');
            loadHTML('Footer', 'assets/bits/footer.html');
            loadHTML('DateContainer', 'assets/bits/clock.html');
            loadHTML('ScheduleContainer', 'assets/bits/horario_dam1.html');
        }

        window.onload = () => {
            callBits();
        };

        /* =================== Reloj =================== */

        $(document).ready(function () {
            setInterval(time, 1000);
        });

        function time() {
            var now = new Date();
            var month = now.getMonth() + 1;
            now.setMonth(month);

            var horas = ("0" + now.getHours()).slice(-2);
            var minutos = ("0" + now.getMinutes()).slice(-2);
            var segundos = ("0" + now.getSeconds()).slice(-2);

            var dia = ("0" + now.getDate()).slice(-2);
            var mes = ("0" + now.getMonth()).slice(-2);
            var amo = ("0" + now.getFullYear()).slice(-4);

            var time = "[ " + dia + "/" + mes + "/" + amo + " ] - [ " + horas + ":" + minutos + ":" + segundos + " ]";
            document.getElementById('Date').innerHTML = time;

            var thistime = new Date();
            var day = thistime.getDay();
            const weekday = ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sábado'];
            document.getElementById('Weekday').innerHTML = weekday[day];
        }

        /* ================== Horario ================== */

        $(document).ready(function () {
            setInterval(horario, 1000);
            setTimeout(tableHeight, 1000);
            setTimeout(tableHeight, 2000);
            setTimeout(tableHeight, 3000);
        });

        window.onresize = function () {
            tableHeight();
        }

        function tableHeight() {
            ancho = $('#ScheduleTable').width();
            altura = (ancho) * (258 / 1406);
            $('#ScheduleTable').css("height", altura + "px");
        }

        function horario() {

            var now = new Date();
            var day = now.getDay();

            if (0 < day && day < 6) {

                $('.active').removeClass('active');
                $('.activeBorder').removeClass('activeBorder');

                var decimalTime = now.getHours() + (now.getMinutes() / 100);
                var tt = 0;
                var td = 0;

                if (day == 1) {
                    $('.a').addClass('active');
                    var dd = "a";
                } if (day == 2) {
                    $('.b').addClass('active');
                    var dd = "b";
                } if (day == 3) {
                    $('.c').addClass('active');
                    var dd = "c";
                } if (day == 4) {
                    $('.d').addClass('active');
                    var dd = "d";
                } if (day == 5) {
                    $('.e').addClass('active');
                    var dd = "e";
                }

                if (16.00 <= decimalTime && decimalTime < 21.45) {

                    if (16.00 <= decimalTime && decimalTime < 16.50) {
                        // Hora 1
                        var tt = 1;
                    } if (16.50 <= decimalTime && decimalTime < 16.55) {
                        // Descanso 1
                        var tb = 1;
                    } if (16.55 <= decimalTime && decimalTime < 17.45) {
                        // Hora 2
                        var tt = 2;
                    } if (17.45 <= decimalTime && decimalTime < 17.50) {
                        // Descanso 2
                        var tb = 2;
                    } if (17.50 <= decimalTime && decimalTime < 18.40) {
                        //Hora 3
                        var tt = 3;
                    } if (18.40 <= decimalTime && decimalTime < 19.05) {
                        // Recreo
                        var tt = 4;
                    } if (19.05 <= decimalTime && decimalTime < 19.55) {
                        //Hora 4
                        var tt = 5;
                    } if (19.55 <= decimalTime && decimalTime < 20.00) {
                        // Descanso 3
                        var tb = 3;
                    } if (20.00 <= decimalTime && decimalTime < 20.50) {
                        //Hora 5
                        var tt = 6;
                    } if (20.50 <= decimalTime && decimalTime < 20.55) {
                        // Descanso 4
                        var tb = 4;
                    } if (20.55 <= decimalTime && decimalTime < 21.45) {
                        //Hora 6
                        var tt = 7;
                    }

                    if (0 < tt) {
                        var code = dd + tt;
                        $('.' + code).addClass('active');
                        $('.t' + tt).addClass('active');
                    } if (0 < tb) {
                        var code = dd + "s" + tb;
                        $('.' + code).addClass('activeBorder');
                        $('.ts' + tb).addClass('activeBorder');
                    }
                }
            }

        };

    </script>

</body>

</html>
